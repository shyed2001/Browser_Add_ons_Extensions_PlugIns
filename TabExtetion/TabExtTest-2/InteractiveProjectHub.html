<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenTabList Info Restore - Interactive Project Hub</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome (for icons, using standard web fonts as requested) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chosen Palette: Tech Blue & Slate (Professional Documentation) with RGYB Functional Accents -->
    <!-- Application Structure Plan: Dashboard-style layout. Top: Project Identity. Middle Left: Interactive Logic Simulator (Core Feature). Middle Right: Live Analytics (Chart.js). Bottom: Technical Documentation (Schema/Install). chosen to allow users to 'experience' the extension's logic before installing. -->
    <!-- Visualization & Content Choices: 1. RGYB Simulator (HTML/JS) -> Goal: Explain complex visual logic -> Interaction: Click to increment -> Custom JS. 2. Storage Efficiency Chart (Chart.js) -> Goal: Visualize duplicate handling -> Interaction: Updates on 'Save' -> Chart.js. 3. Interactive Schema (HTML/Tailwind) -> Goal: Clarify data structure. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f1f5f9; }
        .card { background-color: white; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); padding: 1.5rem; transition: transform 0.2s; }
        .card:hover { transform: translateY(-2px); }
        .chart-container { position: relative; width: 100%; max-width: 100%; height: 300px; max-height: 300px; margin: 0 auto; }
        .code-block { font-family: 'Courier New', Courier, monospace; background-color: #1e293b; color: #e2e8f0; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
        .interactive-key { cursor: pointer; color: #60a5fa; border-bottom: 1px dotted #60a5fa; }
        .interactive-key:hover { color: #93c5fd; }
        .rgyb-tick-r { color: #ef4444; font-weight: bold; }
        .rgyb-tick-y { color: #eab308; font-weight: bold; text-shadow: 0 0 1px #000; }
        .rgyb-tick-g { color: #22c55e; font-weight: bold; }
        .rgyb-tick-b { color: #3b82f6; font-weight: bold; }
        .rgyb-star { color: #dc2626; font-size: 1.2em; }
        
        /* Custom scrollbar for cleanliness */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="text-slate-800">

    <!-- Navigation / Header -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-slate-800 tracking-tight">OpenTabList<span class="text-blue-600">Ext</span></span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <button onclick="scrollToSection('overview')" class="text-slate-600 hover:text-blue-600 font-medium">Overview</button>
                    <button onclick="scrollToSection('logic')" class="text-slate-600 hover:text-blue-600 font-medium">Logic Simulator</button>
                    <button onclick="scrollToSection('schema')" class="text-slate-600 hover:text-blue-600 font-medium">Data Schema</button>
                    <button onclick="scrollToSection('install')" class="text-slate-600 hover:text-blue-600 font-medium">Install</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">

        <!-- Intro Section -->
        <section id="overview" class="text-center py-10">
            <h1 class="text-4xl font-extrabold text-slate-900 mb-4">Web Research Archive & Manager</h1>
            <p class="text-xl text-slate-600 max-w-3xl mx-auto mb-8">
                A professional-grade browser extension designed to capture, archive, and manage web research sessions. 
                Built for researchers and analysts to provide a permanent record of information sources.
            </p>
            <div class="flex justify-center gap-4 flex-wrap">
                <span class="bg-blue-100 text-blue-800 text-sm font-medium px-4 py-1.5 rounded-full border border-blue-200">Phase: MVP / Info Manager</span>
                <span class="bg-green-100 text-green-800 text-sm font-medium px-4 py-1.5 rounded-full border border-green-200">License: Proprietary</span>
                <span class="bg-purple-100 text-purple-800 text-sm font-medium px-4 py-1.5 rounded-full border border-purple-200">Platform: Chrome Extension</span>
            </div>
        </section>

        <!-- The "Wow" Factor: Interactive Logic Simulator -->
        <section id="logic" class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Left: The RGYB Simulator -->
            <div class="card bg-white">
                <div class="border-b border-slate-100 pb-4 mb-4">
                    <h2 class="text-2xl font-bold text-slate-800 flex items-center gap-2">
                        <i class="fa-solid fa-rotate-right text-blue-500"></i> RGYB Logic Simulator
                    </h2>
                    <p class="text-sm text-slate-500 mt-1">Experience the core duplicate handling feature. Click "Simulate Save" to see how the extension visualizes repeated visits to the same link.</p>
                </div>

                <div class="flex flex-col items-center justify-center space-y-6 py-8">
                    <!-- Visual Display -->
                    <div class="w-full bg-slate-50 rounded-lg p-6 flex items-center justify-between border border-slate-200">
                        <div class="flex items-center gap-3">
                            <div id="sim-indicator" class="text-3xl w-16 text-center transition-all duration-300 transform scale-100">
                                <!-- Icon appears here -->
                                <span class="text-slate-300 text-sm">New</span>
                            </div>
                            <div>
                                <div class="font-semibold text-slate-800">example-research-paper.pdf</div>
                                <div class="text-xs text-slate-500">https://university.edu/research...</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xs uppercase tracking-wide text-slate-400 font-semibold">Count</div>
                            <div id="sim-count" class="text-2xl font-bold text-slate-700">0</div>
                        </div>
                    </div>

                    <!-- Explanation Box -->
                    <div id="sim-explanation" class="w-full bg-blue-50 text-blue-800 p-4 rounded-md text-sm border-l-4 border-blue-500">
                        Start by saving this link. The system will detect it's a new entry.
                    </div>

                    <!-- Action Button -->
                    <button id="btn-simulate" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2">
                        <i class="fa-solid fa-floppy-disk"></i> Simulate Save Action
                    </button>
                    
                    <button id="btn-reset" class="text-slate-400 hover:text-slate-600 text-xs underline">Reset Simulation</button>
                </div>
            </div>

            <!-- Right: Storage Analytics Chart -->
            <div class="card flex flex-col">
                <div class="border-b border-slate-100 pb-4 mb-4">
                    <h2 class="text-2xl font-bold text-slate-800 flex items-center gap-2">
                        <i class="fa-solid fa-chart-line text-green-500"></i> Data Efficiency
                    </h2>
                    <p class="text-sm text-slate-500 mt-1">Visualizing how the extension manages storage. As you save, notice how 'Unique Links' stays stable while 'Total Saves' grows.</p>
                </div>
                
                <div class="flex-grow flex items-center justify-center bg-slate-50 rounded-lg p-4 border border-slate-200">
                    <div class="chart-container">
                        <canvas id="storageChart"></canvas>
                    </div>
                </div>
                <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                    <div class="bg-blue-50 p-2 rounded">
                        <div class="text-xs text-blue-600 font-semibold">Total Actions</div>
                        <div id="stat-total" class="text-xl font-bold text-blue-800">0</div>
                    </div>
                    <div class="bg-green-50 p-2 rounded">
                        <div class="text-xs text-green-600 font-semibold">Unique Links</div>
                        <div id="stat-unique" class="text-xl font-bold text-green-800">1</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Grid -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="card border-t-4 border-blue-500">
                <div class="h-10 w-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-4 text-lg">
                    <i class="fa-solid fa-database"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800 mb-2">Centralized DBMS</h3>
                <p class="text-sm text-slate-600">Uses <code>chrome.storage.local</code> to maintain a persistent link database that survives browser restarts.</p>
            </div>
            <div class="card border-t-4 border-purple-500">
                <div class="h-10 w-10 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mb-4 text-lg">
                    <i class="fa-solid fa-clock-rotate-left"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800 mb-2">Temporal Logging</h3>
                <p class="text-sm text-slate-600">Every save action is timestamped. Records initial discovery and every subsequent re-save event.</p>
            </div>
            <div class="card border-t-4 border-orange-500">
                <div class="h-10 w-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center mb-4 text-lg">
                    <i class="fa-solid fa-file-export"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800 mb-2">Export Capabilities</h3>
                <p class="text-sm text-slate-600">Generate reports in CSV, JSON, and self-contained HTML formats for external analysis.</p>
            </div>
        </section>

        <!-- Data Schema & Implementation -->
        <section id="schema" class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Schema Viewer -->
            <div class="lg:col-span-2 card">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">Data Schema Structure</h2>
                <p class="text-sm text-slate-600 mb-4">The core JSON structure used to store tabs in the <code>tabDatabase</code> array. Hover over keys for details.</p>
                
                <div class="code-block" id="json-viewer">
{
  <span class="text-purple-400">"id"</span>: <span class="text-green-400">"unique_id_123"</span>,
  <span class="interactive-key" data-desc="The title of the webpage as displayed in the tab.">"title"</span>: <span class="text-green-400">"Research Paper: AI Trends"</span>,
  <span class="interactive-key" data-desc="The full URL of the saved tab. Used as the unique key for duplicate checking.">"url"</span>: <span class="text-green-400">"https://example.com/paper"</span>,
  <span class="interactive-key" data-desc="Integer tracking how many times this specific URL has been saved. Drives the RGYB visualization.">"repeatCount"</span>: <span class="text-orange-400">5</span>,
  <span class="interactive-key" data-desc="Array of ISO timestamp strings for every save event.">"timestamps"</span>: [
    <span class="text-green-400">"2023-10-27 10:00:00"</span>,
    <span class="text-green-400">"2023-10-28 14:30:00"</span>
  ],
  <span class="interactive-key" data-desc="User-editable string for qualitative context.">"notes"</span>: <span class="text-green-400">"Critical reference for Chapter 2."</span>
}
                </div>
                <div id="schema-desc" class="mt-4 h-12 text-sm text-blue-400 font-mono bg-slate-900 p-2 rounded border-l-4 border-blue-500 flex items-center">
                    Hover over a property key above to see its description.
                </div>
            </div>

            <!-- File Structure -->
            <div class="card">
                <h2 class="text-xl font-bold text-slate-800 mb-4">File Structure</h2>
                <ul class="space-y-3 font-mono text-sm">
                    <li class="flex items-start gap-2">
                        <i class="fa-regular fa-file-code text-yellow-500 mt-1"></i>
                        <div>
                            <span class="font-bold text-slate-700">manifest.json</span>
                            <div class="text-slate-500 text-xs">Configuration & permissions</div>
                        </div>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fa-brands fa-html5 text-orange-500 mt-1"></i>
                        <div>
                            <span class="font-bold text-slate-700">popup.html/js</span>
                            <div class="text-slate-500 text-xs">Save trigger interface</div>
                        </div>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fa-solid fa-table-columns text-blue-500 mt-1"></i>
                        <div>
                            <span class="font-bold text-slate-700">dashboard.html/js</span>
                            <div class="text-slate-500 text-xs">Management UI</div>
                        </div>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fa-regular fa-folder text-slate-400 mt-1"></i>
                        <div>
                            <span class="font-bold text-slate-700">/images</span>
                            <div class="text-slate-500 text-xs">Icons (16, 48, 128px)</div>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Installation Section -->
        <section id="install" class="card bg-slate-800 text-white">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <i class="fa-solid fa-download"></i> Installation Guide
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                <!-- Steps -->
                <div class="bg-slate-700 p-4 rounded-lg relative">
                    <div class="absolute -top-3 -left-3 bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-lg">1</div>
                    <h4 class="font-bold mb-2 mt-2">Clone</h4>
                    <p class="text-xs text-slate-300">Download repository to local drive.</p>
                </div>
                <div class="bg-slate-700 p-4 rounded-lg relative">
                    <div class="absolute -top-3 -left-3 bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-lg">2</div>
                    <h4 class="font-bold mb-2 mt-2">Navigate</h4>
                    <p class="text-xs text-slate-300">Go to <code>chrome://extensions</code></p>
                </div>
                <div class="bg-slate-700 p-4 rounded-lg relative">
                    <div class="absolute -top-3 -left-3 bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-lg">3</div>
                    <h4 class="font-bold mb-2 mt-2">Enable Dev</h4>
                    <p class="text-xs text-slate-300">Toggle "Developer Mode" ON.</p>
                </div>
                <div class="bg-slate-700 p-4 rounded-lg relative">
                    <div class="absolute -top-3 -left-3 bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-lg">4</div>
                    <h4 class="font-bold mb-2 mt-2">Load</h4>
                    <p class="text-xs text-slate-300">Click "Load unpacked", select folder.</p>
                </div>
                <div class="bg-slate-700 p-4 rounded-lg relative">
                    <div class="absolute -top-3 -left-3 bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-lg">5</div>
                    <h4 class="font-bold mb-2 mt-2">Pin</h4>
                    <p class="text-xs text-slate-300">Pin extension to toolbar.</p>
                </div>
            </div>
        </section>

        <footer class="text-center text-slate-400 text-sm py-8">
            <p>Â© 2026 OpenTabList Extension Project. Proprietary / Developer Internal Use.</p>
        </footer>

    </div>

    <!-- Application Logic -->
    <script>
        // --- 1. Navigation Logic ---
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // --- 2. Schema Viewer Interactions ---
        const schemaDesc = document.getElementById('schema-desc');
        document.querySelectorAll('.interactive-key').forEach(key => {
            key.addEventListener('mouseenter', () => {
                schemaDesc.textContent = key.getAttribute('data-desc');
                schemaDesc.classList.remove('text-blue-400');
                schemaDesc.classList.add('text-white');
            });
            key.addEventListener('mouseleave', () => {
                schemaDesc.textContent = 'Hover over a property key above to see its description.';
                schemaDesc.classList.add('text-blue-400');
                schemaDesc.classList.remove('text-white');
            });
        });

        // --- 3. RGYB Logic Simulator ---
        let simCount = 0;
        const simIndicator = document.getElementById('sim-indicator');
        const simCountDisplay = document.getElementById('sim-count');
        const simExplanation = document.getElementById('sim-explanation');
        const statTotal = document.getElementById('stat-total');
        
        // Data for Chart
        const chartData = {
            labels: ['Start'],
            datasets: [
                {
                    label: 'Total Saves',
                    data: [0],
                    borderColor: '#3b82f6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    tension: 0.4,
                    fill: true
                },
                {
                    label: 'Unique Links',
                    data: [1], // Simulating just 1 unique link being saved repeatedly
                    borderColor: '#22c55e',
                    borderDash: [5, 5],
                    tension: 0.4
                }
            ]
        };

        // Initialize Chart
        const ctx = document.getElementById('storageChart').getContext('2d');
        const storageChart = new Chart(ctx, {
            type: 'line',
            data: chartData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: { mode: 'index', intersect: false }
                },
                scales: {
                    y: { beginAtZero: true, suggestedMax: 10 }
                }
            }
        });

        function getIndicatorHTML(count) {
            if (count === 0) return '<span class="text-slate-300 text-sm">New</span>';
            
            // Logic derived from README:
            // 1=R, 2=Y, 3=G, 4=B, 5=Star, 6=Star+R...
            let html = '';
            const stars = Math.floor(count / 5);
            const ticks = count % 5;

            // Add Stars
            for (let i = 0; i < stars; i++) {
                html += '<i class="fa-solid fa-star rgyb-star"></i>';
            }

            // Add Ticks
            // Tick Logic: 1=R, 2=Y, 3=G, 4=B. Note: ticks variable is remainder.
            // If count is 5, ticks is 0 (Just star).
            // If count is 6, ticks is 1 (Star + Red Tick).
            
            if (ticks === 1) html += '<i class="fa-solid fa-check rgyb-tick-r ml-1"></i>';
            if (ticks === 2) html += '<i class="fa-solid fa-check rgyb-tick-r ml-1"></i><i class="fa-solid fa-check rgyb-tick-y"></i>'; 
            // Wait, standard RGYB logic usually implies the *latest* tick is added or it progresses? 
            // The README says: "first time repeat Red... second time repeat add an Y... 5th replace with Star".
            // Implementation: We will stack them as per description.
            // Correction based on exact text: "add an Y color tick... add ticks gradually"
            
            // Simplified stack logic for the visualizer to keep it clean:
            if (ticks >= 1) html += ' <i class="fa-solid fa-check rgyb-tick-r"></i>';
            if (ticks >= 2) html += ' <i class="fa-solid fa-check rgyb-tick-y"></i>';
            if (ticks >= 3) html += ' <i class="fa-solid fa-check rgyb-tick-g"></i>';
            if (ticks >= 4) html += ' <i class="fa-solid fa-check rgyb-tick-b"></i>';

            return html;
        }

        function getExplanation(count) {
            if (count === 1) return "First Repeat: Added a <strong>Red Tick</strong>. The system recognizes this is a duplicate.";
            if (count === 2) return "Second Repeat: Added a <strong>Yellow Tick</strong>. You are visiting this resource frequently.";
            if (count === 3) return "Third Repeat: Added a <strong>Green Tick</strong>. This is becoming a core resource.";
            if (count === 4) return "Fourth Repeat: Added a <strong>Blue Tick</strong>. High frequency access detected.";
            if (count === 5) return "Fifth Repeat: <strong>Reset to Star</strong>. Ticks are consolidated into a high-priority Star indicator.";
            if (count > 5) return `High Frequency: ${count} repeats. Stars accumulate every 5 visits, with ticks filling in between.`;
            return "New entry saved to database.";
        }

        document.getElementById('btn-simulate').addEventListener('click', () => {
            simCount++;
            
            // Update Visuals
            simCountDisplay.textContent = simCount;
            simIndicator.innerHTML = getIndicatorHTML(simCount);
            simExplanation.innerHTML = getExplanation(simCount);

            // Animate Icon
            simIndicator.classList.add('scale-125');
            setTimeout(() => simIndicator.classList.remove('scale-125'), 200);

            // Update Chart
            const label = `Save ${simCount}`;
            chartData.labels.push(label);
            chartData.datasets[0].data.push(simCount + 1); // Total Saves increases
            chartData.datasets[1].data.push(1); // Unique links stays flat (It's the same link)
            
            storageChart.update();
            statTotal.textContent = simCount + 1; // +1 for the initial save
        });

        document.getElementById('btn-reset').addEventListener('click', () => {
            simCount = 0;
            simCountDisplay.textContent = 0;
            simIndicator.innerHTML = '<span class="text-slate-300 text-sm">New</span>';
            simExplanation.textContent = 'Start by saving this link. The system will detect it\'s a new entry.';
            
            // Reset Chart
            chartData.labels = ['Start'];
            chartData.datasets[0].data = [0];
            chartData.datasets[1].data = [1];
            storageChart.update();
            statTotal.textContent = 0;
        });

    </script>
</body>
</html>